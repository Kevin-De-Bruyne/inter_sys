(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27102f95"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,i){var n=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"54c5":function(t,e,i){"use strict";i("d84a")},"71c2":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("span",{staticClass:"iconfont icon-fanhui",on:{click:t.back}}),i("span",{staticClass:"iconfont iconfont icon-shouye",on:{click:t.home}}),i("span",{staticClass:"title"},[t._v(t._s(t.title))])])},a=[],s={data:function(){return{}},props:{title:{type:String,default:""}},methods:{back:function(){this.$router.go(-1),this.$bus.$emit("alen",555)},home:function(){this.$router.push("/")}}},r=s,o=(i("54c5"),i("2877")),l=Object(o["a"])(r,n,a,!1,null,"3e6a8921",null);e["a"]=l.exports},7588:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yuyue"},[i("Header",{attrs:{title:t.title}}),i("div",{staticClass:"apply_box"},[i("div",{staticClass:"apply_title"},[i("span",{on:{click:function(e){return t.$router.push("/appointmented")}}},[t._v("时间地点")])]),i("router-view"),i("div",{staticClass:"content"},[i("div",{staticClass:"content_list"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.interview_unit,expression:"interview_unit",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入拜访单位"},domProps:{value:t.interview_unit},on:{click:t.search,input:function(e){e.target.composing||(t.interview_unit=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.popup?i("div",{staticClass:"popList"},t._l(t.dataList,(function(e,n){return i("div",{key:n,staticClass:"list",on:{click:function(i){return t.listClick(n,e)}}},[i("span",{style:{color:t.listIndex==n?"rgb(5,129,253)":""}},[t._v(t._s(e.name))]),t.listIndex==n?i("span",{staticClass:"iconfont icon-arrow-right",staticStyle:{color:"rgb(5,129,253)"}}):t._e()])})),0):t._e(),i("div",{staticClass:"content_list"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.interview_floor,expression:"interview_floor"}],attrs:{type:"text",placeholder:"请输入楼层"},domProps:{value:t.interview_floor},on:{input:function(e){e.target.composing||(t.interview_floor=e.target.value)}}})]),i("div",{staticClass:"content_list"},[t._m(2),i("input",{directives:[{name:"model",rawName:"v-model",value:t.interview_office,expression:"interview_office"}],attrs:{type:"text",placeholder:"请输入办公室"},domProps:{value:t.interview_office},on:{input:function(e){e.target.composing||(t.interview_office=e.target.value)}}})]),i("div",{staticClass:"apply_box"},[i("div",{staticClass:"content_list",on:{click:function(e){t.show=!0}}},[t._m(3),""==t.formDate?i("div",{staticClass:"time"},[t._v("请选择拜访时间")]):i("div",{staticClass:"time"},[t._v(t._s(t.formDate))])]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("van-datetime-picker",{attrs:{type:"datetime",title:"选择拜访时间","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)])],1),i("div",{staticClass:"apply_box"},[t._m(4),i("div",{staticClass:"content"},[i("div",{staticClass:"content_list"},[t._m(5),i("input",{directives:[{name:"model",rawName:"v-model",value:t.interview_realname,expression:"interview_realname"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.interview_realname},on:{input:function(e){e.target.composing||(t.interview_realname=e.target.value)}}})]),i("div",{staticClass:"content_list"},[t._m(6),i("input",{directives:[{name:"model",rawName:"v-model",value:t.interview_mobile,expression:"interview_mobile"}],attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:t.interview_mobile},on:{input:function(e){e.target.composing||(t.interview_mobile=e.target.value)}}})]),i("div",{staticClass:"content_list"},[t._m(7),i("input",{directives:[{name:"model",rawName:"v-model",value:t.department,expression:"department"}],attrs:{type:"text",placeholder:"请输入单位部门"},domProps:{value:t.department},on:{input:function(e){e.target.composing||(t.department=e.target.value)}}})])])]),i("div",{staticClass:"apply_box"},[t._m(8),i("div",{staticClass:"content"},[i("div",{staticClass:"content_list"},[t._m(9),i("input",{directives:[{name:"model",rawName:"v-model",value:t.realname,expression:"realname"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.realname},on:{input:function(e){e.target.composing||(t.realname=e.target.value)}}})]),i("div",{staticClass:"content_list"},[t._m(10),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),1==t.$route.query.type?i("div",{staticClass:"content_list"},[t._m(11),i("input",{directives:[{name:"model",rawName:"v-model",value:t.id_card,expression:"id_card"}],attrs:{type:"text",placeholder:"请输入身份证"},domProps:{value:t.id_card},on:{input:function(e){e.target.composing||(t.id_card=e.target.value)}}})]):t._e(),i("div",{staticClass:"content_list"},[t._m(12),i("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],attrs:{type:"text",placeholder:"请输入单位"},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value)}}})]),1==t.$route.query.type?i("div",{staticClass:"content_list"},[t._m(13),i("input",{directives:[{name:"model",rawName:"v-model",value:t.car_num,expression:"car_num"}],attrs:{type:"text",placeholder:"请输入车牌号，例如粤AXXXXXX"},domProps:{value:t.car_num},on:{input:function(e){e.target.composing||(t.car_num=e.target.value)}}})]):t._e(),i("div",{staticClass:"content_list"},[t._m(14),i("input",{directives:[{name:"model",rawName:"v-model",value:t.together,expression:"together"}],staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"请输入人数，例如3"},domProps:{value:t.together},on:{input:function(e){e.target.composing||(t.together=e.target.value)}}}),t._v("人 ")])])]),i("div",{staticClass:"apply_box"},[t._m(15),i("div",{staticClass:"contents"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入拜访理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})])]),1==t.$route.query.type?i("div",{staticClass:"apply_box"},[t._m(16),i("van-uploader",{attrs:{"after-read":t.afterRead,"max-count":1},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1):t._e(),1==t.$route.query.type?i("div",{staticClass:"apply_box"},[t._m(17),i("van-uploader",{attrs:{"after-read":t.afterRead2,"max-count":1},model:{value:t.fileList2,callback:function(e){t.fileList2=e},expression:"fileList2"}})],1):t._e(),i("div",{staticClass:"submit"},[i("div",{staticClass:"btn",on:{click:t.submit}},[t._v("提交")])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("拜访单位")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("楼层")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("办公室")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("时间")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply_title"},[i("span",[t._v("被访人")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("姓名")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("电话")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("单位部门")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply_title"},[i("span",[t._v("拜访人")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("姓名")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("电话")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("身份证")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("单位")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("车牌号")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content_name"},[i("span",[t._v("随行人数")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply_title"},[i("span",[t._v("拜访理由")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply_title"},[i("span",[t._v("穗康码")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"apply_title"},[i("span",[t._v("行程大数据截图")])])}],s=(i("ac1f"),i("841c"),i("b0c0"),i("bc3a"),i("71c2")),r=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}(),o={data:function(){return{fileList:[],fileList2:[],minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,show:!1,formDate:"",interview_unit:"",interview_floor:"",interview_office:"",interview_realname:"",interview_mobile:"",realname:"",mobile:"",id_card:"",popup:!1,unit:"",listIndex:0,car_num:"",reason:"",together:"",health_code:"",journey_code:"",department:"",title:1==this.$route.query.type?"预约申请":"访客邀请",dataList:[]}},watch:{interview_unit:function(){var t=this;r((function(){t.search()}),500)}},components:{Header:s["a"]},mounted:function(){console.log(localStorage.getItem("id")),console.log(document.documentElement.scrollTop)},methods:{listClick:function(t,e){this.listIndex=t,this.interview_unit=e.name,this.popup=!1},search:function(){var t=this;this.popup=!0,this.$get("/api/client/getcompanylist",{keyword:this.interview_unit}).then((function(e){t.listIndex=0,t.dataList=e.data}))},afterRead:function(t,e){var i=this,n=new FormData;console.log(t.file),n.append("pic",t.file),console.log(n.get("pic"));var a={"apply-secret":this.sercet,"Content-Type":"multipart/form-data"};this.$post("/api/client/upload",n,a).then((function(t){console.log(i.baseURL+t.path),i.health_code=t.path}))},afterRead2:function(t){var e=this,i=new FormData;console.log(t.file),i.append("pic",t.file),console.log(i.get("pic"));var n={"apply-secret":this.sercet,"Content-Type":"multipart/form-data"};this.$post("/api/client/upload",i,n).then((function(t){console.log(e.baseURL+t.path),e.journey_code=t.path}))},confirm:function(t){console.log(t);var e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),a=t.getHours(),s=t.getMinutes(),r=t.getSeconds();console.log(e,i,n,a,s,r);var o=e+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n)+" "+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s);this.formDate=o,this.show=!1},submit:function(){var t=this,e={"apply-secret":this.sercet},i={realname:this.realname,id_card:this.id_card,together:this.together,unit:this.unit,mobile:this.mobile,reason:this.reason,apply_time:this.formDate,car_num:this.car_num,health_code:this.health_code,journey_code:this.journey_code,interview_realname:this.interview_realname,interview_mobile:this.interview_mobile,interview_unit:this.interview_unit,interview_floor:this.interview_floor,interview_office:this.interview_office,type:this.$route.query.type,staff_id:localStorage.getItem("id"),department:this.department};1==this.$route.query.type?""==this.interview_unit?this.showtitle("请输入拜访单位"):""==this.formDate?this.showtitle("请输入拜访时间"):""==this.interview_realname?this.showtitle("请输入被访人姓名"):""==this.interview_mobile?this.showtitle("请输入被访人电话"):/^1[3456789]\d{9}$/.test(this.interview_mobile)?""==this.realname?this.showtitle("请输入访客姓名"):""==this.mobile?this.showtitle("请输入访客电话"):/^1[3456789]\d{9}$/.test(this.mobile)?""==this.id_card?this.showtitle("请输入身份证号码"):""==this.reason?this.showtitle("请输入拜访理由"):this.$post("/api/client/guest",i,e).then((function(e){1==e.code?t.showtitle(e.msg).then((function(e){t.$router.push({path:"/visit"})})):t.showtitle(e.msg)})):this.showtitle("访客电话格式不对"):this.showtitle("被访人电话格式不对"):""==this.interview_unit?this.showtitle("请输入拜访单位"):""==this.formDate?this.showtitle("请输入拜访时间"):""==this.interview_realname?this.showtitle("请输入被访人姓名"):""==this.interview_mobile?this.showtitle("请输入被访人电话"):/^1[3456789]\d{9}$/.test(this.interview_mobile)?""==this.realname?this.showtitle("请输入访客姓名"):this.$post("/api/client/guest",i,e).then((function(e){1==e.code?(localStorage.setItem("gude_show",1),t.showtitle("填写成功，请转发给其他用户").then(t.$router.push({path:"/appointmented",query:{id:e.data}}))):t.showtitle(e.msg)})):this.showtitle("被访人电话格式不对")}}},l=o,c=(i("b5b2"),i("2877")),u=Object(c["a"])(l,n,a,!1,null,"a7970660",null);e["default"]=u.exports},"7e80":function(t,e,i){},"841c":function(t,e,i){"use strict";var n=i("d784"),a=i("825a"),s=i("1d80"),r=i("129f"),o=i("14c3");n("search",1,(function(t,e,i){return[function(e){var i=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var s=a(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},9263:function(t,e,i){"use strict";var n=i("ad6d"),a=i("9f7f"),s=i("5692"),r=RegExp.prototype.exec,o=s("native-string-replace",String.prototype.replace),l=r,c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],v=c||p||u;v&&(l=function(t){var e,i,a,s,l=this,v=u&&l.sticky,d=n.call(l),m=l.source,_=0,f=t;return v&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),f=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,_++),i=new RegExp("^(?:"+m+")",d)),p&&(i=new RegExp("^"+m+"$(?!\\s)",d)),c&&(e=l.lastIndex),a=r.call(v?i:l,f),v?a?(a.input=a.input.slice(_),a[0]=a[0].slice(_),a.index=l.lastIndex,l.lastIndex+=a[0].length):l.lastIndex=0:c&&a&&(l.lastIndex=l.global?a.index+a[0].length:e),p&&a&&a.length>1&&o.call(a[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a}),t.exports=l},"9f7f":function(t,e,i){"use strict";var n=i("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,i){"use strict";var n=i("23e7"),a=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b5b2:function(t,e,i){"use strict";i("7e80")},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),a=i("9263"),s=i("d039"),r=i("b622"),o=i("9112"),l=r("species"),c=RegExp.prototype,u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){return"$0"==="a".replace(/./,"$0")}(),v=r("replace"),d=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),m=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,v){var _=r(t),f=!s((function(){var e={};return e[_]=function(){return 7},7!=""[t](e)})),h=f&&!s((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[_]=/./[_]),i.exec=function(){return e=!0,null},i[_](""),!e}));if(!f||!h||"replace"===t&&(!u||!p||d)||"split"===t&&!m){var g=/./[_],w=i(_,""[t],(function(t,e,i,n,s){var r=e.exec;return r===a||r===c.exec?f&&!s?{done:!0,value:g.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),x=w[0],y=w[1];n(String.prototype,t,x),n(c,_,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}v&&o(c[_],"sham",!0)}},d84a:function(t,e,i){}}]);
//# sourceMappingURL=chunk-27102f95.97ab8a10.js.map