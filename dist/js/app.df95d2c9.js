(function(e){function t(t){for(var a,i,s=t[0],r=t[1],u=t[2],l=0,f=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);h&&h(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o={app:0},c=[];function s(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"422ba802","chunk-04479b06":"8a3b2fec","chunk-0fcf3286":"75a7051d","chunk-1173f534":"29e08736","chunk-2633338c":"20e8ad3c","chunk-2d230c65":"bae945f3","chunk-344ab996":"bfdf6b65","chunk-4060983a":"3ed6834f","chunk-5a32e978":"bfc0f2b7","chunk-75c2e0f8":"3557b74e","chunk-980f5c02":"3dcb4ae6","chunk-1d12a968":"0275f189","chunk-25ac5eb6":"0fb09577","chunk-39d21f26":"096fe9ea","chunk-95d9051c":"6f7f6e7d","chunk-e76c149a":"1c8eb300","chunk-98ae37f4":"39d5b42a","chunk-c49118a8":"c41780bd"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={about:1,"chunk-04479b06":1,"chunk-0fcf3286":1,"chunk-1173f534":1,"chunk-2633338c":1,"chunk-344ab996":1,"chunk-4060983a":1,"chunk-5a32e978":1,"chunk-75c2e0f8":1,"chunk-980f5c02":1,"chunk-1d12a968":1,"chunk-25ac5eb6":1,"chunk-39d21f26":1,"chunk-95d9051c":1,"chunk-e76c149a":1,"chunk-98ae37f4":1,"chunk-c49118a8":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"ba99ef62","chunk-04479b06":"b67c3200","chunk-0fcf3286":"6e31fa61","chunk-1173f534":"9dd4be1d","chunk-2633338c":"d4d7279a","chunk-2d230c65":"31d6cfe0","chunk-344ab996":"ee5ff63a","chunk-4060983a":"7451499a","chunk-5a32e978":"77cc341f","chunk-75c2e0f8":"4729258e","chunk-980f5c02":"d4b5ea78","chunk-1d12a968":"f04a2a4e","chunk-25ac5eb6":"6f6453a2","chunk-39d21f26":"3fb721d7","chunk-95d9051c":"8006353d","chunk-e76c149a":"88b9697f","chunk-98ae37f4":"8dd5e343","chunk-c49118a8":"252efaf6"}[e]+".css",o=r.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete i[e],h.parentNode.removeChild(h),n(c)},h.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){i[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",f.name="ChunkLoadError",f.type=a,f.request=i,n[1](f)}o[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var h=l;c.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t,n){e.exports=n("56d7")},"19c3":function(e,t,n){},"1bf1":function(e,t,n){"use strict";n("e4f2")},2:function(e,t){},3:function(e,t){},"3a2e":function(e,t,n){"use strict";n("be1d")},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7");var a=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-view")],1)])},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabbar"},e._l(e.tabBar,(function(t,a){return n("div",{key:a,staticClass:"tabbar_list",on:{click:function(n){return e.tabbarClick(a,t.path)}}},[n("div",{staticClass:"tabbar_t"},[n("span",{class:[{active:e.$route.path==t.path},t.icon]})]),n("div",{staticClass:"tabbar_b",class:{active:e.$route.path==t.path}},[e._v(e._s(t.name))])])})),0)},s=[],r={data:function(){return{tabBar:[{icon:"iconfont icon-shouye",name:"首页",path:"/home"},{icon:"iconfont icon-geren",name:"我的",path:"/mine"}],tabIndex:0}},methods:{tabbarClick:function(e,t){this.tabIndex=e,console.log(this.tabIndex),this.$router.push(t)}}},u=r,l=(n("3a2e"),n("2877")),f=Object(l["a"])(u,c,s,!1,null,"1db21183",null),h=f.exports,d={data:function(){return{active:0}},components:{TabBar:h}},p=d,m=(n("034f"),Object(l["a"])(p,i,o,!1,null,null,null)),b=m.exports,v=(n("3ca3"),n("ddb0"),n("8c4f")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[n("van-swipe-item",{on:{click:e.swipeClick}},[n("img",{staticClass:"swiper_image",attrs:{src:e.data.web_logo,alt:""}})])],1),n("div",{staticClass:"serve"},[n("div",{staticClass:"serve_t",on:{click:function(t){return e.$router.push("/appointment")}}},[e._v("服务")]),0==e.role_show?n("div",{staticClass:"serve_b"},[n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/appointment?type=2")}}},[n("span",{staticClass:"serve_name"},[e._v("访客邀请")]),e._m(0)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/invite")}}},[n("span",{staticClass:"serve_name"},[e._v("邀请记录")]),e._m(1)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/shenpi")}}},[n("span",{staticClass:"serve_name"},[e._v("访客审批")]),e._m(2)])]):n("div",{staticClass:"serve_b"},[n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/appointment?type=1")}}},[n("span",{staticClass:"serve_name"},[e._v("访问申请")]),e._m(3)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/visit")}}},[n("span",{staticClass:"serve_name"},[e._v("访问记录")]),e._m(4)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/is_invite")}}},[n("span",{staticClass:"serve_name"},[e._v("邀请记录")]),e._m(5)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/pass_code")}}},[n("span",{staticClass:"serve_name"},[e._v("通行二维码")]),e._m(6)])])]),n("tab-bar")],1)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(254,104,103)"}},[n("span",{staticClass:"iconfont icon-car"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(242,241,0)"}},[n("span",{staticClass:"iconfont icon-icon-"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(29,6,14)"}},[n("span",{staticClass:"iconfont icon-ai-code"})])}],k=n("1da1"),w=(n("96cf"),n("a9e3"),n("ac1f"),n("841c"),n("b0c0"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.show?n("div",{staticClass:"popList"},e._l(e.dataList,(function(t,a){return n("div",{key:a,staticClass:"list",on:{click:function(n){return e.listClick(a,t)}}},[n("span",{style:{color:e.listIndex==a?"rgb(5,129,253)":""}},[e._v(e._s(t.name))]),e.listIndex==a?n("span",{staticClass:"iconfont icon-arrow-right",staticStyle:{color:"rgb(5,129,253)"}}):e._e()])})),0):e._e()])}),y=[],C={data:function(){return{}},props:{inputValue:{type:String,default:""},dataList:{type:Array,default:[]},show:{type:Boolean,default:!1},listIndex:{type:Number,default:0}},methods:{listClick:function(e,t){this.$emit("clicks",t.name,e)}}},x=C,S=(n("1bf1"),Object(l["a"])(x,w,y,!1,null,"94c33b9a",null)),$=S.exports,j=n("858e"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show-extend",rawName:"v-show-extend",value:e.show,expression:"show"}],staticClass:"vue-dropdown default-theme"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.itemlist.length,expression:"itemlist.length"}],staticClass:"search-module clearfix"},[n("input",{staticClass:"search-text",attrs:{placeholder:e.placeholder},on:{keyup:function(t){return e.search(t)}}}),n("span",{staticClass:"glyphicon glyphicon-search search-icon"})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.length,expression:"length"}],staticClass:"list-module"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.length>0,expression:"length>0"}]},e._l(e.datalist,(function(t,a){return n("li",{key:a,on:{click:function(n){return e.appClick(t)}}},[n("span",{staticClass:"list-item-text"},[e._v(e._s(t.name))])])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.length,expression:"!length"}],staticClass:"tip__nodata"},[e._v(e._s(e.nodatatext))])])},P=[],E=(n("99af"),n("4de4"),{data:function(){return{datalist:[]}},props:{show:{type:Boolean,default:!0},itemlist:Array,placeholder:String,nodatatext:String},watch:{itemlist:{handler:function(e){this.datalist=e.concat(),console.log(e)},deep:!0,immediate:!0},length:function(e){console.log(e)}},directives:{"show-extend":function(e,t,n){var a=t.value,i=null;a?e.style.display="block":(console.log(a),e.style.display="none",i=e.querySelector(".search-text"),i.value="",n.context.datalist=n.context.itemlist)}},methods:{appClick:function(e){this.$emit("item-click",e)},search:function(e){var t=this,n=e.currentTarget.value;t.datalist=t.itemlist.filter((function(e,t,a){return-1!=e.name.indexOf(n)}))}},mounted:function(){console.log(this.placeholder)},computed:{length:function(){return this.datalist.length}}}),O=E,T=(n("f0c4"),Object(l["a"])(O,I,P,!1,null,"9e513332",null)),N=T.exports,q=function(e){console.log(e);var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}(function(e){return e}(1)),L={name:"Home",data:function(){return{id:3,inputValue:"",shows:!1,listIndex:0,fileData:[],dataList:[],fileList:[],pdfUrl:"",isActive:!0,role_show:Number(localStorage.getItem("role_id")),activeColor:"purple",data:{},list:[{name:"访问申请",bgc:"rgb(242,241,0)",icon:"iconfont icon-icon-",url:"/appointment?type=1",show:1==this.role_show},{name:"访客邀请",bgc:"rgb(254,104,103)",icon:"iconfont icon-car",url:"/appointment?type=2",show:0==this.role_show},{name:"访问记录",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/visit",show:1==this.role_show},{name:"邀请记录",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/is_invite",show:0==this.role_show},{name:"访客审批",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/shenpi",show:0==this.role_show},{name:"通行二维码",bgc:"rgb(29,6,14)",icon:"iconfont icon-ai-code",url:"/pass_code",show:1==this.role_show}],itemlist:[{name:"啊啊"},{name:"啊这"},{name:"哈哈"}],placeholder:"搜索",nodatatext:"暂无数据",selectValue:""}},components:{dropDown:N,pdf:j["a"],Search:$},watch:{itemlist:{handler:function(e,t){},deep:!0,immediate:!0},inputValue:function(){var e=this;q((function(){e.search()}),500)}},methods:{clicks:function(e,t){this.listIndex=t,this.shows=!1,this.inputValue=e},search:function(){var e=this;this.shows=!0,this.$get("/api/client/getcompanylist",{keyword:this.inputValue}).then((function(t){e.listIndex=0,e.dataList=t.data}))},beforeUpload:function(e){console.log("文件",e),this.file=e,this.fileName=e.name,this.fileSize=e.size;var t=new FileReader;t.readAsDataURL(e);var n=this;return t.onload=function(){n.fileData=t.result,console.log("fileData",n.fileData)},!1},viewFile:function(){console.log("viewFile");var e=window.open();e.document.write('<body style="margin:0px;"><object data="'+this.fileData+'" type="application/pdf" width="100%" height="100%"><iframe src="'+this.fileData+'" scrolling="no" width="100%" height="100%" frameborder="0" ></iframe></object></body>')},uploadContract:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=new FormData;t.append("file",this.file),t.append("doc_title",this.fileName),uploadContract(t).then((function(t){200==t.code?console.log("uploadContract",t):e.$message({message:t.msg,type:"warning"})}))})),itemClick:function(e){this.selectValue=e},getInputValue:function(e){console.log(e)},swipeClick:function(){window.location.href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzkzMjI1NDU2NQ==#wechat_redirect"},get:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("/api/client/getconfig");case 2:n=t.sent,e.data=n.data;case 4:case"end":return t.stop()}}),t)})))()},post:function(){this.$post("/user",{nickname:"赵丽颖",portrait:111}).then((function(e){}))},getUserInfo:function(){var e=this,t={openid:this.$store.state.token};this.$get("/api/client/getstaff",t).then((function(t){null!=t.data.staff_role_id?localStorage.setItem("role_id",1):localStorage.setItem("role_id",0),localStorage.setItem("id",t.data.id),e.role_show=localStorage.getItem("role_id")}))}},created:function(){this.get()},mounted:function(){console.log(localStorage.getItem("role_id"))}},D=L,A=(n("75f9"),Object(l["a"])(D,g,_,!1,null,"78be11c8",null)),B=A.exports;a["default"].use(v["a"]);var U=[{redirect:"/home",path:""},{path:"/home",name:"Home",component:B},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"a1d1"))}},{path:"/appointment",name:"appointment",component:function(){return n.e("chunk-2633338c").then(n.bind(null,"7588"))}},{path:"/appointmented",name:"appointmented",component:function(){return n.e("chunk-5a32e978").then(n.bind(null,"2efd"))}},{path:"/qrcode",name:"qrcode",component:function(){return Promise.all([n.e("chunk-980f5c02"),n.e("chunk-e76c149a")]).then(n.bind(null,"6850"))}},{path:"/pass_code",name:"pass_code",component:function(){return Promise.all([n.e("chunk-980f5c02"),n.e("chunk-1d12a968")]).then(n.bind(null,"edd2"))}},{path:"/visit",name:"visit",component:function(){return n.e("chunk-0fcf3286").then(n.bind(null,"f691"))}},{path:"/shenpi",name:"shenpi",component:function(){return n.e("chunk-344ab996").then(n.bind(null,"80ae"))}},{path:"/guide",name:"guide",component:function(){return n.e("chunk-c49118a8").then(n.bind(null,"54b8"))}},{path:"/404",name:"404",component:function(){return n.e("chunk-2d230c65").then(n.bind(null,"ee5d"))}},{path:"/shenpi_detail",name:"shenpi_detail",component:function(){return Promise.all([n.e("chunk-980f5c02"),n.e("chunk-25ac5eb6")]).then(n.bind(null,"5a88"))}},{path:"/invite",name:"invite",component:function(){return n.e("chunk-75c2e0f8").then(n.bind(null,"02dc"))}},{path:"/is_invite",name:"is_invite",component:function(){return n.e("chunk-4060983a").then(n.bind(null,"9c48"))}},{path:"/invite_detail",name:"invite_detail",component:function(){return Promise.all([n.e("chunk-980f5c02"),n.e("chunk-39d21f26")]).then(n.bind(null,"fb04"))}},{path:"/visit_detail",name:"visit_detail",component:function(){return Promise.all([n.e("chunk-980f5c02"),n.e("chunk-95d9051c")]).then(n.bind(null,"95ff"))}},{path:"/mine",name:"mine",component:function(){return n.e("chunk-98ae37f4").then(n.bind(null,"bdc0"))}},{path:"/bindPhone",name:"bindPhone",component:function(){return n.e("chunk-04479b06").then(n.bind(null,"e4e0"))}},{path:"/information",name:"information",component:function(){return n.e("chunk-1173f534").then(n.bind(null,"ae35"))}}],V=new v["a"]({mode:"hash",base:"",routes:U,scrollBehavior:function(){return{x:0,y:0}}}),M=V,R=n("2f62");a["default"].use(R["a"]);var z=new R["a"].Store({state:{token:localStorage.getItem("token"),is_phone:Boolean(localStorage.getItem("login")),userInfo:localStorage.getItem("userInfo"),tab:0},mutations:{setToken:function(e,t){localStorage.setItem("token",t),e.token=t},hasLogin:function(e,t){localStorage.setItem("login",t),e.is_phone=t},changeUserInfo:function(e,t){localStorage.setItem("userInfo",t),e.userInfo=t},changeTab:function(e,t){e.tab=t}},actions:{},modules:{}}),F=n("bc3a"),J=n.n(F),Q=(n("157a"),n("b970")),H=n("d399");a["default"].use(Q["a"]),a["default"].use(H["a"]);var K="http://test17.xuanjibian.cn",W="base64:sMeeyxQuiQVQCAn+mYDJpJTn9DfsPN0lO9WbJyr02B0=";function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){J.a.get(e,{params:t,headers:{"apply-secret":W}}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,i){J.a.post(e,t,{headers:n}).then((function(e){a(e.data)}),(function(e){i(e)}))}))}a["default"].prototype.baseURL=K,a["default"].prototype.sercet=W,J.a.defaults.baseURL=K,J.a.interceptors.response.use((function(e){return e.data.code,e}),(function(e){e.message="连接服务器失败!",Object(H["a"])(e.message)}));var X=n("f825"),Z=n.n(X),ee=(n("f8ce"),n("ac28")),te=n("2ed4"),ne=n("5596"),ae=n("2bb1"),ie=n("0b33"),oe=n("5e46"),ce=n("8f80"),se=n("2241"),re=n("565f"),ue=n("ee83"),le=n("e41f"),fe=n("7d5e"),he=n("5c96"),de=n.n(he);n("0fae");a["default"].use(de.a),a["default"].use(Q["a"]),a["default"].use(Z.a),a["default"].use(H["a"],ee["a"],te["a"],ne["a"],ae["a"],ie["a"],oe["a"],ce["a"],se["a"],re["a"],ue["a"],le["a"],fe["a"]),a["default"].config.productionTip=!1,a["default"].prototype.$get=Y,a["default"].prototype.$post=G,a["default"].component("TabBar",h),a["default"].prototype.$bus=new a["default"],a["default"].prototype.showtitle=function(e){return new Promise((function(t,n){Object(H["a"])({message:e,duration:1500}),setTimeout((function(){t()}),1500)}))},a["default"].prototype.showLoading=function(e){return new Promise((function(t,n){H["a"].loading({message:e,duration:700}),setTimeout((function(){t()}),1500)}))},M.beforeEach((function(e,t,n){document.documentElement.scrollTop=0,0==e.matched.length?n("/404"):n(),a["default"].prototype.$get("/api/client/checklogin").then((function(t){console.log(t.code),0==t.code?a["default"].prototype.showtitle("请授权登录").then((function(e){window.location.href="http://test17.xuanjibian.cn/api/client/auth"})):"/bindPhone"!=e.path?0==t.data.bindingmobile?(z.commit("setToken",t.data.original.openid),a["default"].prototype.showtitle("请绑定手机号").then((function(e){n("/bindPhone")}))):(z.commit("setToken",t.data.original.openid),a["default"].prototype.$get("/api/client/checkfollow",{openid:z.state.token}).then((function(t){0==t.data.subscribe&&"/qrcode"!=e.path?se["a"].confirm({title:"提醒",message:"请先关注公众号"}).then((function(){M.push("/qrcode")})).catch((function(){})):n()}))):n()}))})),new a["default"]({router:M,store:z,render:function(e){return e(b)}}).$mount("#app")},6:function(e,t){},"75f9":function(e,t,n){"use strict";n("d893")},"85ec":function(e,t,n){},be1d:function(e,t,n){},d893:function(e,t,n){},e4f2:function(e,t,n){},f0c4:function(e,t,n){"use strict";n("19c3")}});
//# sourceMappingURL=app.df95d2c9.js.map