(function(e){function t(t){for(var a,o,s=t[0],r=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);h&&h(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i={app:0},c=[];function s(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"56b65da6","chunk-0e3d2f6a":"2928a75b","chunk-27102f95":"97ab8a10","chunk-35f99136":"da8f0712","chunk-4f2b722a":"57d92de0","chunk-5566ad20":"093ab3ad","chunk-6b250a40":"e5654c99","chunk-71d2a13c":"fdc75e87","chunk-277bfdcd":"97344495","chunk-39d21f26":"7358c4c1","chunk-7e428720":"42df9186","chunk-95d9051c":"7db39c8f","chunk-e76c149a":"5e3444c4","chunk-98ae37f4":"158c099d","chunk-c8fe504c":"4274ccb9","chunk-cc47d5a8":"caabe317","chunk-f353c0a4":"bf5df8f3"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={about:1,"chunk-0e3d2f6a":1,"chunk-27102f95":1,"chunk-35f99136":1,"chunk-4f2b722a":1,"chunk-5566ad20":1,"chunk-6b250a40":1,"chunk-71d2a13c":1,"chunk-277bfdcd":1,"chunk-39d21f26":1,"chunk-7e428720":1,"chunk-95d9051c":1,"chunk-e76c149a":1,"chunk-98ae37f4":1,"chunk-c8fe504c":1,"chunk-cc47d5a8":1,"chunk-f353c0a4":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"ba99ef62","chunk-0e3d2f6a":"bd8fd6fe","chunk-27102f95":"58395c79","chunk-35f99136":"c7449bde","chunk-4f2b722a":"b96014ae","chunk-5566ad20":"017cab36","chunk-6b250a40":"fbc60c02","chunk-71d2a13c":"3cd37048","chunk-277bfdcd":"23795c42","chunk-39d21f26":"3fb721d7","chunk-7e428720":"02304868","chunk-95d9051c":"8006353d","chunk-e76c149a":"88b9697f","chunk-98ae37f4":"8dd5e343","chunk-c8fe504c":"28f189e2","chunk-cc47d5a8":"8571e5a4","chunk-f353c0a4":"673f7618"}[e]+".css",i=r.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],h.parentNode.removeChild(h),n(c)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0e8a":function(e,t,n){"use strict";n("83f5")},"19c3":function(e,t,n){},"3a2e":function(e,t,n){"use strict";n("be1d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7");var a=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-view")],1)])},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabbar"},e._l(e.tabBar,(function(t,a){return n("div",{key:a,staticClass:"tabbar_list",on:{click:function(n){return e.tabbarClick(a,t.path)}}},[n("div",{staticClass:"tabbar_t"},[n("span",{class:[{active:e.$route.path==t.path},t.icon]})]),n("div",{staticClass:"tabbar_b",class:{active:e.$route.path==t.path}},[e._v(e._s(t.name))])])})),0)},s=[],r={data:function(){return{tabBar:[{icon:"iconfont icon-shouye",name:"首页",path:"/home"},{icon:"iconfont icon-geren",name:"我的",path:"/mine"}],tabIndex:0}},methods:{tabbarClick:function(e,t){this.tabIndex=e,console.log(this.tabIndex),this.$router.push(t)}}},u=r,l=(n("3a2e"),n("2877")),d=Object(l["a"])(u,c,s,!1,null,"1db21183",null),h=d.exports,f={data:function(){return{active:0}},components:{TabBar:h}},p=f,m=(n("034f"),Object(l["a"])(p,o,i,!1,null,null,null)),b=m.exports,v=(n("3ca3"),n("ddb0"),n("8c4f")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[n("van-swipe-item",{on:{click:e.swipeClick}},[n("img",{staticClass:"swiper_image",attrs:{src:e.data.web_logo,alt:""}})])],1),n("div",{staticClass:"serve"},[n("div",{staticClass:"serve_t",on:{click:function(t){return e.$router.push("/appointment")}}},[e._v("服务")]),0==e.role_show?n("div",{staticClass:"serve_b"},[n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/appointment?type=2")}}},[n("span",{staticClass:"serve_name"},[e._v("访客邀请")]),e._m(0)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/invite")}}},[n("span",{staticClass:"serve_name"},[e._v("邀请记录")]),e._m(1)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/shenpi")}}},[n("span",{staticClass:"serve_name"},[e._v("访客审批")]),e._m(2)])]):n("div",{staticClass:"serve_b"},[n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/appointment?type=1")}}},[n("span",{staticClass:"serve_name"},[e._v("访问申请")]),e._m(3)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/visit")}}},[n("span",{staticClass:"serve_name"},[e._v("访问记录")]),e._m(4)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/is_invite")}}},[n("span",{staticClass:"serve_name"},[e._v("邀请记录")]),e._m(5)]),n("div",{staticClass:"serve_b_list",on:{click:function(t){return e.$router.push("/pass_code")}}},[n("span",{staticClass:"serve_name"},[e._v("通行二维码")]),e._m(6)])])]),n("tab-bar")],1)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(254,104,103)"}},[n("span",{staticClass:"iconfont icon-car"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(242,241,0)"}},[n("span",{staticClass:"iconfont icon-icon-"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(9,155,244)"}},[n("span",{staticClass:"iconfont icon-shenqingjilu-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serve_icon",staticStyle:{background:"rgb(29,6,14)"}},[n("span",{staticClass:"iconfont icon-ai-code"})])}],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show-extend",rawName:"v-show-extend",value:e.show,expression:"show"}],staticClass:"vue-dropdown default-theme"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.itemlist.length,expression:"itemlist.length"}],staticClass:"search-module clearfix"},[n("input",{staticClass:"search-text",attrs:{placeholder:e.placeholder},on:{keyup:function(t){return e.search(t)}}}),n("span",{staticClass:"glyphicon glyphicon-search search-icon"})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.length,expression:"length"}],staticClass:"list-module"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.length>0,expression:"length>0"}]},e._l(e.datalist,(function(t,a){return n("li",{key:a,on:{click:function(n){return e.appClick(t)}}},[n("span",{staticClass:"list-item-text"},[e._v(e._s(t.name))])])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.length,expression:"!length"}],staticClass:"tip__nodata"},[e._v(e._s(e.nodatatext))])])},w=[],y=(n("99af"),n("4de4"),n("b0c0"),{data:function(){return{datalist:[]}},props:{show:{type:Boolean,default:!0},itemlist:Array,placeholder:String,nodatatext:String},watch:{itemlist:{handler:function(e){this.datalist=e.concat(),console.log(e)},deep:!0,immediate:!0},length:function(e){console.log(e)}},directives:{"show-extend":function(e,t,n){var a=t.value,o=null;a?e.style.display="block":(console.log(a),e.style.display="none",o=e.querySelector(".search-text"),o.value="",n.context.datalist=n.context.itemlist)}},methods:{appClick:function(e){this.$emit("item-click",e)},search:function(e){var t=this,n=e.currentTarget.value;t.datalist=t.itemlist.filter((function(e,t,a){return-1!=e.name.indexOf(n)}))}},mounted:function(){console.log(this.placeholder)},computed:{length:function(){return this.datalist.length}}}),C=y,x=(n("f0c4"),Object(l["a"])(C,k,w,!1,null,"9e513332",null)),$=x.exports,S={name:"Home",data:function(){return{id:3,isActive:!0,role_show:localStorage.getItem("role_id"),activeColor:"purple",data:{},list:[{name:"访问申请",bgc:"rgb(242,241,0)",icon:"iconfont icon-icon-",url:"/appointment?type=1",show:1==this.role_show},{name:"访客邀请",bgc:"rgb(254,104,103)",icon:"iconfont icon-car",url:"/appointment?type=2",show:0==this.role_show},{name:"访问记录",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/visit",show:1==this.role_show},{name:"邀请记录",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/is_invite",show:0==this.role_show},{name:"访客审批",bgc:"rgb(9,155,244)",icon:"iconfont icon-shenqingjilu-2",url:"/shenpi",show:0==this.role_show},{name:"通行二维码",bgc:"rgb(29,6,14)",icon:"iconfont icon-ai-code",url:"/pass_code",show:1==this.role_show}],itemlist:[{name:"啊啊"},{name:"啊这"},{name:"哈哈"}],placeholder:"搜索",nodatatext:"暂无数据",selectValue:""}},components:{dropDown:$},watch:{itemlist:{handler:function(e,t){},deep:!0,immediate:!0}},methods:{itemClick:function(e){this.selectValue=e},getInputValue:function(e){console.log(e)},swipeClick:function(){window.location.href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzkzMjI1NDU2NQ==#wechat_redirect"},get:function(){var e=this;this.$get("/api/client/getconfig").then((function(t){e.data=t.data}))},post:function(){this.$post("/user",{nickname:"赵丽颖",portrait:111}).then((function(e){}))},getUserInfo:function(){var e=this,t={openid:this.$store.state.token};this.$get("/api/client/getstaff",t).then((function(t){null!=t.data.staff_role_id?localStorage.setItem("role_id",1):localStorage.setItem("role_id",0),localStorage.setItem("id",t.data.id),e.role_show=localStorage.getItem("role_id")}))}},created:function(){this.get()},mounted:function(){}},j=S,P=(n("0e8a"),Object(l["a"])(j,g,_,!1,null,"e06bf2e2",null)),I=P.exports;a["default"].use(v["a"]);var E=[{redirect:"/home",path:""},{path:"/home",name:"Home",component:I},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"a1d1"))}},{path:"/appointment",name:"appointment",component:function(){return n.e("chunk-27102f95").then(n.bind(null,"7588"))}},{path:"/appointmented",name:"appointmented",component:function(){return n.e("chunk-0e3d2f6a").then(n.bind(null,"2efd"))}},{path:"/qrcode",name:"qrcode",component:function(){return Promise.all([n.e("chunk-71d2a13c"),n.e("chunk-e76c149a")]).then(n.bind(null,"6850"))}},{path:"/pass_code",name:"pass_code",component:function(){return Promise.all([n.e("chunk-71d2a13c"),n.e("chunk-7e428720")]).then(n.bind(null,"edd2"))}},{path:"/visit",name:"visit",component:function(){return n.e("chunk-cc47d5a8").then(n.bind(null,"f691"))}},{path:"/shenpi",name:"shenpi",component:function(){return n.e("chunk-f353c0a4").then(n.bind(null,"80ae"))}},{path:"/guide",name:"guide",component:function(){return n.e("chunk-5566ad20").then(n.bind(null,"54b8"))}},{path:"/shenpi_detail",name:"shenpi_detail",component:function(){return Promise.all([n.e("chunk-71d2a13c"),n.e("chunk-277bfdcd")]).then(n.bind(null,"5a88"))}},{path:"/invite",name:"invite",component:function(){return n.e("chunk-4f2b722a").then(n.bind(null,"02dc"))}},{path:"/is_invite",name:"is_invite",component:function(){return n.e("chunk-6b250a40").then(n.bind(null,"9c48"))}},{path:"/invite_detail",name:"invite_detail",component:function(){return Promise.all([n.e("chunk-71d2a13c"),n.e("chunk-39d21f26")]).then(n.bind(null,"fb04"))}},{path:"/visit_detail",name:"visit_detail",component:function(){return Promise.all([n.e("chunk-71d2a13c"),n.e("chunk-95d9051c")]).then(n.bind(null,"95ff"))}},{path:"/mine",name:"mine",component:function(){return n.e("chunk-98ae37f4").then(n.bind(null,"bdc0"))}},{path:"/bindPhone",name:"bindPhone",component:function(){return n.e("chunk-35f99136").then(n.bind(null,"e4e0"))}},{path:"/information",name:"information",component:function(){return n.e("chunk-c8fe504c").then(n.bind(null,"ae35"))}}],O=new v["a"]({mode:"hash",base:"",routes:E,scrollBehavior:function(){return{x:0,y:0}}}),T=O,q=n("2f62");a["default"].use(q["a"]);var N=new q["a"].Store({state:{token:localStorage.getItem("token"),is_phone:Boolean(localStorage.getItem("login")),userInfo:localStorage.getItem("userInfo"),tab:0},mutations:{setToken:function(e,t){localStorage.setItem("token",t),e.token=t},hasLogin:function(e,t){localStorage.setItem("login",t),e.is_phone=t},changeUserInfo:function(e,t){localStorage.setItem("userInfo",t),e.userInfo=t},changeTab:function(e,t){e.tab=t}},actions:{},modules:{}}),B=n("bc3a"),A=n.n(B),L=(n("157a"),n("b970")),M=n("d399");a["default"].use(L["a"]),a["default"].use(M["a"]);var D="http://test17.xuanjibian.cn",U="base64:sMeeyxQuiQVQCAn+mYDJpJTn9DfsPN0lO9WbJyr02B0=";function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){A.a.get(e,{params:t,headers:{"apply-secret":U}}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,o){A.a.post(e,t,{headers:n}).then((function(e){a(e.data)}),(function(e){o(e)}))}))}a["default"].prototype.baseURL=D,a["default"].prototype.sercet=U,A.a.defaults.baseURL=D,A.a.interceptors.response.use((function(e){return e.data.code,e}),(function(e){e.message="连接服务器失败!",Object(M["a"])(e.message)}));var V=n("f825"),z=n.n(V),H=(n("f8ce"),n("ac28")),R=n("2ed4"),F=n("5596"),K=n("2bb1"),W=n("0b33"),Y=n("5e46"),G=n("8f80"),X=n("2241"),Z=n("565f"),ee=n("ee83"),te=n("e41f");a["default"].use(L["a"]),a["default"].use(z.a),a["default"].use(M["a"],H["a"],R["a"],F["a"],K["a"],W["a"],Y["a"],G["a"],X["a"],Z["a"],ee["a"],te["a"]),a["default"].config.productionTip=!1,a["default"].prototype.$get=J,a["default"].prototype.$post=Q,a["default"].component("TabBar",h),a["default"].prototype.$bus=new a["default"],a["default"].prototype.showtitle=function(e){return new Promise((function(t,n){Object(M["a"])({message:e,duration:1500}),setTimeout((function(){t()}),1500)}))},a["default"].prototype.showLoading=function(e){return new Promise((function(t,n){M["a"].loading({message:e,duration:700}),setTimeout((function(){t()}),1500)}))},T.beforeEach((function(e,t,n){document.documentElement.scrollTop=0,n(),a["default"].prototype.$get("/api/client/checklogin").then((function(t){console.log(t.code),0==t.code?a["default"].prototype.showtitle("请授权登录").then((function(e){window.location.href="http://test17.xuanjibian.cn/api/client/auth"})):"/bindPhone"!=e.path?0==t.data.bindingmobile?(N.commit("setToken",t.data.original.openid),a["default"].prototype.showtitle("请绑定手机号").then((function(e){n("/bindPhone")}))):(N.commit("setToken",t.data.original.openid),a["default"].prototype.$get("/api/client/checkfollow",{openid:N.state.token}).then((function(t){0==t.data.subscribe&&"/qrcode"!=e.path?X["a"].confirm({title:"提醒",message:"请先关注公众号"}).then((function(){T.push("/qrcode")})).catch((function(){})):n()}))):n()}))})),new a["default"]({router:T,store:N,render:function(e){return e(b)}}).$mount("#app")},"83f5":function(e,t,n){},"85ec":function(e,t,n){},be1d:function(e,t,n){},f0c4:function(e,t,n){"use strict";n("19c3")}});
//# sourceMappingURL=app.88479332.js.map